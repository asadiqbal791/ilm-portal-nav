import React, { MouseEventHandler, useState } from "react";
import { Dropdown, Modal, Form } from "react-bootstrap";
import { MdOutlineMenu, MdOutlineMenuOpen } from "react-icons/md";
import { NavLink, useLocation } from "react-router-dom";
import {
    CDBSidebar,
    CDBSidebarContent,
    CDBSidebarMenu,
    CDBSidebarMenuItem,
    CDBSidebarHeader,
} from "cdbreact";

interface SidebarUri {
    path: string;
    icon?: string;
    name: string;
}

export const IlmPortalNavbar = ({
    onPortalChange,
    auth,
    logout,
    toggleMenu,
    menuState = false,
    orgs = [],
    onChangeOrgName = () => { },
    onChangeOrg = () => { },
    onSwitchOrg = () => { },
    sidebarUris = [],
}: {
    auth?: { currentUser: { photoURL: string; displayName: string; email: string } };
    logout?: MouseEventHandler<HTMLElement>;
    menuState: Boolean;
    toggleMenu?: () => void;
    onPortalChange?: (portal: string) => void;
    orgs?: Array<{ name: string; displayName: string; createdAt: string; branding: { logo_url: string } }> | null;
    onChangeOrgName?: (org: string) => void;
    onChangeOrg?: (org: Object) => void;
    onSwitchOrg?: () => void;
    sidebarUris?: Array<SidebarUri>;

}) => {
    const [org, setOrg] = useState('');
    const [sidebarState, setSidebarState] = useState(true);
    const [showorg, setShoworg] = useState(false);
    const handleShoworg = () => setShoworg(true);
    const handleCloseorg = () => setShoworg(false);
    const space = localStorage.getItem('space') ? JSON.parse(localStorage.getItem('space')) : { name: 'ilmiya', displayName: "ilmiya" };
    const { pathname } = useLocation();
    return (
        <div className='i-header'>
            <div className='i-brand'>
                {menuState == false ? (
                    <div className="menu-icon" onClick={() => { toggleMenu(); setSidebarState(!sidebarState) }}>
                        <MdOutlineMenu />
                    </div>
                ) : (
                    <div className="menu-icon" onClick={toggleMenu}>
                        <MdOutlineMenuOpen />
                    </div>
                )}
                <Dropdown>
                    <Dropdown.Toggle variant='link' id="dropdown-basic">
                        <div className='i-org'>
                            <img className='i-logo' src={require('./logo.png')} />
                            <p>{space?.name}</p>
                        </div>
                    </Dropdown.Toggle>

                    <Dropdown.Menu className='org-dropdown'>
                        <div className='org-head'>
                            <img src={require('./logo.png')} />
                            <p>{space?.displayName}</p>
                        </div>
                        <hr />
                        <div className='org-menu'>
                            <div className='org-option'>
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                    <path d="M19.4301 12.98C19.4701 12.66 19.5001 12.34 19.5001 12C19.5001 11.66 19.4701 11.34 19.4301 11.02L21.5401 9.37C21.7301 9.22 21.7801 8.95 21.6601 8.73L19.6601 5.27C19.5701 5.11 19.4001 5.02 19.2201 5.02C19.1601 5.02 19.1001 5.03 19.0501 5.05L16.5601 6.05C16.0401 5.65 15.4801 5.32 14.8701 5.07L14.4901 2.42C14.4601 2.18 14.2501 2 14.0001 2H10.0001C9.75008 2 9.54008 2.18 9.51008 2.42L9.13008 5.07C8.52008 5.32 7.96008 5.66 7.44008 6.05L4.95008 5.05C4.89008 5.03 4.83008 5.02 4.77008 5.02C4.60008 5.02 4.43008 5.11 4.34008 5.27L2.34008 8.73C2.21008 8.95 2.27008 9.22 2.46008 9.37L4.57008 11.02C4.53008 11.34 4.50008 11.67 4.50008 12C4.50008 12.33 4.53008 12.66 4.57008 12.98L2.46008 14.63C2.27008 14.78 2.22008 15.05 2.34008 15.27L4.34008 18.73C4.43008 18.89 4.60008 18.98 4.78008 18.98C4.84008 18.98 4.90008 18.97 4.95008 18.95L7.44008 17.95C7.96008 18.35 8.52008 18.68 9.13008 18.93L9.51008 21.58C9.54008 21.82 9.75008 22 10.0001 22H14.0001C14.2501 22 14.4601 21.82 14.4901 21.58L14.8701 18.93C15.4801 18.68 16.0401 18.34 16.5601 17.95L19.0501 18.95C19.1101 18.97 19.1701 18.98 19.2301 18.98C19.4001 18.98 19.5701 18.89 19.6601 18.73L21.6601 15.27C21.7801 15.05 21.7301 14.78 21.5401 14.63L19.4301 12.98ZM17.4501 11.27C17.4901 11.58 17.5001 11.79 17.5001 12C17.5001 12.21 17.4801 12.43 17.4501 12.73L17.3101 13.86L18.2001 14.56L19.2801 15.4L18.5801 16.61L17.3101 16.1L16.2701 15.68L15.3701 16.36C14.9401 16.68 14.5301 16.92 14.1201 17.09L13.0601 17.52L12.9001 18.65L12.7001 20H11.3001L10.9501 17.52L9.89008 17.09C9.46008 16.91 9.06008 16.68 8.66008 16.38L7.75008 15.68L6.69008 16.11L5.42008 16.62L4.72008 15.41L5.80008 14.57L6.69008 13.87L6.55008 12.74C6.52008 12.43 6.50008 12.2 6.50008 12C6.50008 11.8 6.52008 11.57 6.55008 11.27L6.69008 10.14L5.80008 9.44L4.72008 8.6L5.42008 7.39L6.69008 7.9L7.73008 8.32L8.63008 7.64C9.06008 7.32 9.47008 7.08 9.88008 6.91L10.9401 6.48L11.1001 5.35L11.3001 4H12.6901L13.0401 6.48L14.1001 6.91C14.5301 7.09 14.9301 7.32 15.3301 7.62L16.2401 8.32L17.3001 7.89L18.5701 7.38L19.2701 8.59L18.2001 9.44L17.3101 10.14L17.4501 11.27ZM12.0001 8C9.79008 8 8.00008 9.79 8.00008 12C8.00008 14.21 9.79008 16 12.0001 16C14.2101 16 16.0001 14.21 16.0001 12C16.0001 9.79 14.2101 8 12.0001 8ZM12.0001 14C10.9001 14 10.0001 13.1 10.0001 12C10.0001 10.9 10.9001 10 12.0001 10C13.1001 10 14.0001 10.9 14.0001 12C14.0001 13.1 13.1001 14 12.0001 14Z" fill="#202223" />
                                </svg>
                                <span>
                                    Settings
                                </span>
                            </div>
                            <div className='org-option'>
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                    <path d="M20 9V6H18V9H15V11H18V14H20V11H23V9H20ZM9 12C11.21 12 13 10.21 13 8C13 5.79 11.21 4 9 4C6.79 4 5 5.79 5 8C5 10.21 6.79 12 9 12ZM9 6C10.1 6 11 6.9 11 8C11 9.1 10.1 10 9 10C7.9 10 7 9.1 7 8C7 6.9 7.9 6 9 6ZM15.39 14.56C13.71 13.7 11.53 13 9 13C6.47 13 4.29 13.7 2.61 14.56C1.61 15.07 1 16.1 1 17.22V20H17V17.22C17 16.1 16.39 15.07 15.39 14.56ZM15 18H3V17.22C3 16.84 3.2 16.5 3.52 16.34C4.71 15.73 6.63 15 9 15C11.37 15 13.29 15.73 14.48 16.34C14.8 16.5 15 16.84 15 17.22V18Z" fill="#202223" />
                                </svg>
                                <span>
                                    Invite a member
                                </span>
                            </div>
                            <div className='org-option'>
                                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25" fill="none">
                                    <path d="M5.0752 21.6753C4.5252 21.6753 4.05436 21.4795 3.6627 21.0878C3.27103 20.6961 3.0752 20.2253 3.0752 19.6753V5.67529C3.0752 5.12529 3.27103 4.65446 3.6627 4.26279C4.05436 3.87113 4.5252 3.67529 5.0752 3.67529H16.0752L21.0752 8.67529V19.6753C21.0752 20.2253 20.8794 20.6961 20.4877 21.0878C20.096 21.4795 19.6252 21.6753 19.0752 21.6753H5.0752ZM5.0752 19.6753H19.0752V9.67529H15.0752V5.67529H5.0752V19.6753ZM7.0752 17.6753H17.0752V15.6753H7.0752V17.6753ZM7.0752 9.67529H12.0752V7.67529H7.0752V9.67529ZM7.0752 13.6753H17.0752V11.6753H7.0752V13.6753Z" fill="#1C1B1F" />
                                </svg>
                                <span>
                                    View Directory
                                </span>
                            </div>
                            <hr />
                            <div className='org-option'>
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                    <path d="M13 7H11V11H7V13H11V17H13V13H17V11H13V7ZM12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20Z" fill="#202223" />
                                </svg>
                                <span>
                                    Create New Account
                                </span>
                            </div>
                            <div className='org-option' onClick={onSwitchOrg}>
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                    <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4C7.58001 4 4.01001 7.58 4.01001 12C4.01001 16.42 7.58001 20 12 20C15.73 20 18.84 17.45 19.73 14H17.65C16.83 16.33 14.61 18 12 18C8.69001 18 6.00001 15.31 6.00001 12C6.00001 8.69 8.69001 6 12 6C13.66 6 15.14 6.69 16.22 7.78L13 11H20V4L17.65 6.35Z" fill="#202223" />
                                </svg>
                                <span>
                                    Switch Space
                                </span>
                                <svg className='arrow' xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                    <path d="M8.59009 16.59L13.1701 12L8.59009 7.41L10.0001 6L16.0001 12L10.0001 18L8.59009 16.59Z" fill="#202223" />
                                </svg>
                            </div>
                        </div>
                    </Dropdown.Menu>
                </Dropdown>
            </div>
            <div className='i-actions'>
                <div className='nav-item border-right'>
                    <div className='nav-link'>
                        <Dropdown>
                            <Dropdown.Toggle variant='link' id="dropdown-basic">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
                                    <path d="M16.1437 1.62279e-07C16.6687 1.16382e-07 17.1094 0.178125 17.4656 0.534376C17.8219 0.890625 18 1.33125 18 1.85625C18 2.38125 17.8219 2.82188 17.4656 3.17813C17.1094 3.53438 16.6687 3.7125 16.1437 3.7125C15.6187 3.7125 15.1781 3.53438 14.8219 3.17813C14.4656 2.82188 14.2875 2.38125 14.2875 1.85625C14.2875 1.33125 14.4656 0.890625 14.8219 0.534376C15.1781 0.178126 15.6187 2.08175e-07 16.1437 1.62279e-07ZM9 7.86805e-07C9.525 7.40908e-07 9.96562 0.178126 10.3219 0.534377C10.6781 0.890626 10.8562 1.33125 10.8562 1.85625C10.8562 2.38125 10.6781 2.82188 10.3219 3.17813C9.96562 3.53438 9.525 3.7125 9 3.7125C8.475 3.7125 8.03437 3.53438 7.67812 3.17813C7.32187 2.82188 7.14375 2.38125 7.14375 1.85625C7.14375 1.33125 7.32187 0.890626 7.67812 0.534377C8.03437 0.178126 8.475 8.32702e-07 9 7.86805e-07ZM1.85625 1.41133e-06C2.38125 1.36543e-06 2.82187 0.178127 3.17812 0.534377C3.53437 0.890626 3.7125 1.33125 3.7125 1.85625C3.7125 2.38125 3.53437 2.82188 3.17812 3.17813C2.82187 3.53438 2.38125 3.7125 1.85625 3.7125C1.33125 3.7125 0.890624 3.53438 0.534375 3.17813C0.178124 2.82188 -1.36543e-06 2.38125 -1.41133e-06 1.85625C-1.45723e-06 1.33125 0.178124 0.890627 0.534375 0.534378C0.890623 0.178127 1.33125 1.45723e-06 1.85625 1.41133e-06ZM16.1437 7.14375C16.6687 7.14375 17.1094 7.32188 17.4656 7.67813C17.8219 8.03438 18 8.475 18 9C18 9.525 17.8219 9.96562 17.4656 10.3219C17.1094 10.6781 16.6687 10.8563 16.1437 10.8563C15.6187 10.8563 15.1781 10.6781 14.8219 10.3219C14.4656 9.96563 14.2875 9.525 14.2875 9C14.2875 8.475 14.4656 8.03438 14.8219 7.67813C15.1781 7.32188 15.6187 7.14375 16.1437 7.14375ZM9 7.14375C9.525 7.14375 9.96562 7.32188 10.3219 7.67813C10.6781 8.03438 10.8562 8.475 10.8562 9C10.8562 9.525 10.6781 9.96563 10.3219 10.3219C9.96562 10.6781 9.525 10.8563 9 10.8563C8.475 10.8563 8.03437 10.6781 7.67812 10.3219C7.32187 9.96563 7.14375 9.525 7.14375 9C7.14375 8.475 7.32187 8.03438 7.67812 7.67813C8.03437 7.32188 8.475 7.14375 9 7.14375ZM1.85625 7.14375C2.38125 7.14375 2.82187 7.32188 3.17812 7.67813C3.53437 8.03438 3.7125 8.475 3.7125 9C3.7125 9.525 3.53437 9.96563 3.17812 10.3219C2.82187 10.6781 2.38125 10.8563 1.85625 10.8563C1.33125 10.8563 0.890624 10.6781 0.534375 10.3219C0.178125 9.96563 -7.40908e-07 9.525 -7.86805e-07 9C-8.32702e-07 8.475 0.178125 8.03438 0.534375 7.67813C0.890624 7.32188 1.33125 7.14375 1.85625 7.14375ZM16.1437 14.2875C16.6687 14.2875 17.1094 14.4656 17.4656 14.8219C17.8219 15.1781 18 15.6188 18 16.1438C18 16.6688 17.8219 17.1094 17.4656 17.4656C17.1094 17.8219 16.6688 18 16.1438 18C15.6188 18 15.1781 17.8219 14.8219 17.4656C14.4656 17.1094 14.2875 16.6688 14.2875 16.1438C14.2875 15.6188 14.4656 15.1781 14.8219 14.8219C15.1781 14.4656 15.6187 14.2875 16.1437 14.2875ZM9 14.2875C9.525 14.2875 9.96562 14.4656 10.3219 14.8219C10.6781 15.1781 10.8563 15.6188 10.8563 16.1438C10.8563 16.6688 10.6781 17.1094 10.3219 17.4656C9.96562 17.8219 9.525 18 9 18C8.475 18 8.03438 17.8219 7.67813 17.4656C7.32188 17.1094 7.14375 16.6688 7.14375 16.1438C7.14375 15.6188 7.32188 15.1781 7.67813 14.8219C8.03437 14.4656 8.475 14.2875 9 14.2875ZM1.85625 14.2875C2.38125 14.2875 2.82188 14.4656 3.17813 14.8219C3.53437 15.1781 3.7125 15.6188 3.7125 16.1438C3.7125 16.6688 3.53438 17.1094 3.17813 17.4656C2.82188 17.8219 2.38125 18 1.85625 18C1.33125 18 0.890625 17.8219 0.534376 17.4656C0.178125 17.1094 -1.16382e-07 16.6688 -1.62279e-07 16.1438C-2.08175e-07 15.6188 0.178125 15.1781 0.534376 14.8219C0.890625 14.4656 1.33125 14.2875 1.85625 14.2875Z" fill="#2D2F31" />
                                </svg>
                            </Dropdown.Toggle>
                            <Dropdown.Menu className='i-menu' >
                                <div onClick={() => onPortalChange && typeof onPortalChange === "function" && onPortalChange('Dashboard')} className='portal'>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="42" height="42" viewBox="0 0 42 42" fill="none">
                                        <path d="M22 17V11H30V17H22ZM12 21V11H20V21H12ZM22 29V19H30V29H22ZM12 29V23H20V29H12ZM14 19H18V13H14V19ZM24 27H28V21H24V27ZM24 15H28V13H24V15ZM14 27H18V25H14V27Z" fill="#2D2F31" />
                                    </svg>
                                    <span>
                                        Dashboard
                                    </span>
                                </div>
                                <div onClick={() => onPortalChange && typeof onPortalChange === "function" && onPortalChange('People')} className='portal'>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="42" height="42" viewBox="0 0 42 42" fill="none">
                                        <path d="M14 25.85C14.9 24.9667 15.9458 24.2708 17.1375 23.7625C18.3292 23.2542 19.6167 23 21 23C22.3833 23 23.6708 23.2542 24.8625 23.7625C26.0542 24.2708 27.1 24.9667 28 25.85V13H14V25.85ZM21 21C21.9667 21 22.7917 20.6583 23.475 19.975C24.1583 19.2917 24.5 18.4667 24.5 17.5C24.5 16.5333 24.1583 15.7083 23.475 15.025C22.7917 14.3417 21.9667 14 21 14C20.0333 14 19.2083 14.3417 18.525 15.025C17.8417 15.7083 17.5 16.5333 17.5 17.5C17.5 18.4667 17.8417 19.2917 18.525 19.975C19.2083 20.6583 20.0333 21 21 21ZM14 29C13.45 29 12.9792 28.8042 12.5875 28.4125C12.1958 28.0208 12 27.55 12 27V13C12 12.45 12.1958 11.9792 12.5875 11.5875C12.9792 11.1958 13.45 11 14 11H28C28.55 11 29.0208 11.1958 29.4125 11.5875C29.8042 11.9792 30 12.45 30 13V27C30 27.55 29.8042 28.0208 29.4125 28.4125C29.0208 28.8042 28.55 29 28 29H14ZM16 27H26V26.75C25.3 26.1667 24.525 25.7292 23.675 25.4375C22.825 25.1458 21.9333 25 21 25C20.0667 25 19.175 25.1458 18.325 25.4375C17.475 25.7292 16.7 26.1667 16 26.75V27ZM21 19C20.5833 19 20.2292 18.8542 19.9375 18.5625C19.6458 18.2708 19.5 17.9167 19.5 17.5C19.5 17.0833 19.6458 16.7292 19.9375 16.4375C20.2292 16.1458 20.5833 16 21 16C21.4167 16 21.7708 16.1458 22.0625 16.4375C22.3542 16.7292 22.5 17.0833 22.5 17.5C22.5 17.9167 22.3542 18.2708 22.0625 18.5625C21.7708 18.8542 21.4167 19 21 19Z" fill="#2D2F31" />

                                    </svg>
                                    <span>
                                        People
                                    </span>
                                </div>
                                <div onClick={() => onPortalChange && typeof onPortalChange === "function" && onPortalChange('Studio')} className='portal'>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="42" height="42" viewBox="0 0 42 42" fill="none">
                                        <path d="M19.925 22.05L25.6 16.4L24.175 14.975L19.925 19.225L17.8 17.1L16.4 18.5L19.925 22.05ZM10 29V27H32V29H10ZM13 26C12.45 26 11.9792 25.8042 11.5875 25.4125C11.1958 25.0208 11 24.55 11 24V13C11 12.45 11.1958 11.9792 11.5875 11.5875C11.9792 11.1958 12.45 11 13 11H29C29.55 11 30.0208 11.1958 30.4125 11.5875C30.8042 11.9792 31 12.45 31 13V24C31 24.55 30.8042 25.0208 30.4125 25.4125C30.0208 25.8042 29.55 26 29 26H13ZM13 24H29V13H13V24Z" fill="#2D2F31" />
                                    </svg>
                                    <span>
                                        Studio
                                    </span>
                                </div>
                                <div onClick={() => onPortalChange && typeof onPortalChange === "function" && onPortalChange('Analytics')} className='portal'>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="42" height="42" viewBox="0 0 42 42" fill="none">
                                        <path d="M16 25H18V20H16V25ZM24 25H26V15H24V25ZM20 25H22V22H20V25ZM20 20H22V18H20V20ZM14 29C13.45 29 12.9792 28.8042 12.5875 28.4125C12.1958 28.0208 12 27.55 12 27V13C12 12.45 12.1958 11.9792 12.5875 11.5875C12.9792 11.1958 13.45 11 14 11H28C28.55 11 29.0208 11.1958 29.4125 11.5875C29.8042 11.9792 30 12.45 30 13V27C30 27.55 29.8042 28.0208 29.4125 28.4125C29.0208 28.8042 28.55 29 28 29H14ZM14 27H28V13H14V27Z" fill="#2D2F31" />
                                    </svg>
                                    <span>
                                        Analytics
                                    </span>
                                </div>
                                <div onClick={() => onPortalChange && typeof onPortalChange === "function" && onPortalChange('Admin')} className='portal'>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="42" height="42" viewBox="0 0 42 42" fill="none">
                                        <path d="M26 25C26.4167 25 26.7708 24.8542 27.0625 24.5625C27.3542 24.2708 27.5 23.9167 27.5 23.5C27.5 23.0833 27.3542 22.7292 27.0625 22.4375C26.7708 22.1458 26.4167 22 26 22C25.5833 22 25.2292 22.1458 24.9375 22.4375C24.6458 22.7292 24.5 23.0833 24.5 23.5C24.5 23.9167 24.6458 24.2708 24.9375 24.5625C25.2292 24.8542 25.5833 25 26 25ZM26 28C26.5167 28 26.9917 27.8792 27.425 27.6375C27.8583 27.3958 28.2083 27.075 28.475 26.675C28.1083 26.4583 27.7167 26.2917 27.3 26.175C26.8833 26.0583 26.45 26 26 26C25.55 26 25.1167 26.0583 24.7 26.175C24.2833 26.2917 23.8917 26.4583 23.525 26.675C23.7917 27.075 24.1417 27.3958 24.575 27.6375C25.0083 27.8792 25.4833 28 26 28ZM21 30C18.6833 29.4167 16.7708 28.0875 15.2625 26.0125C13.7542 23.9375 13 21.6333 13 19.1V13L21 10L29 13V18.675C28.6833 18.5417 28.3583 18.4208 28.025 18.3125C27.6917 18.2042 27.35 18.125 27 18.075V14.4L21 12.15L15 14.4V19.1C15 19.8833 15.1042 20.6667 15.3125 21.45C15.5208 22.2333 15.8125 22.9792 16.1875 23.6875C16.5625 24.3958 17.0167 25.05 17.55 25.65C18.0833 26.25 18.675 26.75 19.325 27.15C19.5083 27.6833 19.75 28.1917 20.05 28.675C20.35 29.1583 20.6917 29.5917 21.075 29.975C21.0583 29.975 21.0458 29.9792 21.0375 29.9875C21.0292 29.9958 21.0167 30 21 30ZM26 30C24.6167 30 23.4375 29.5125 22.4625 28.5375C21.4875 27.5625 21 26.3833 21 25C21 23.6167 21.4875 22.4375 22.4625 21.4625C23.4375 20.4875 24.6167 20 26 20C27.3833 20 28.5625 20.4875 29.5375 21.4625C30.5125 22.4375 31 23.6167 31 25C31 26.3833 30.5125 27.5625 29.5375 28.5375C28.5625 29.5125 27.3833 30 26 30Z" fill="#2D2F31" />
                                    </svg>
                                    <span>
                                        Admin
                                    </span>
                                </div>
                            </Dropdown.Menu>
                        </Dropdown>
                    </div>
                </div>
                <div className='nav-item'>
                    <div className='nav-link'>
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
                            <path d="M9 7.86805e-07C10.245 6.77964e-07 11.415 0.23625 12.51 0.708752C13.605 1.18125 14.5575 1.8225 15.3675 2.6325C16.1775 3.4425 16.8187 4.395 17.2912 5.49C17.7637 6.585 18 7.755 18 9C18 10.245 17.7637 11.415 17.2912 12.51C16.8187 13.605 16.1775 14.5575 15.3675 15.3675C14.5575 16.1775 13.605 16.8188 12.51 17.2913C11.415 17.7638 10.245 18 9 18C7.755 18 6.585 17.7638 5.49 17.2913C4.395 16.8188 3.4425 16.1775 2.6325 15.3675C1.8225 14.5575 1.18125 13.605 0.708751 12.51C0.236249 11.415 -6.77964e-07 10.245 -7.86805e-07 9C-8.95646e-07 7.755 0.236249 6.585 0.708751 5.49C1.18125 4.395 1.8225 3.4425 2.6325 2.6325C3.4425 1.8225 4.395 1.18125 5.49 0.708753C6.585 0.236251 7.755 8.95646e-07 9 7.86805e-07ZM11.7225 1.8L10.305 5.175C10.875 5.37 11.3812 5.68125 11.8237 6.10875C12.2662 6.53625 12.6 7.0575 12.825 7.6725L16.2 6.3225C15.735 5.2575 15.12 4.335 14.355 3.555C13.59 2.775 12.7125 2.19 11.7225 1.8ZM12.8475 10.305C12.6075 10.92 12.27 11.445 11.835 11.88C11.4 12.315 10.8975 12.63 10.3275 12.825L11.6775 16.2C12.8025 15.735 13.755 15.1088 14.535 14.3213C15.315 13.5338 15.87 12.645 16.2 11.655L12.8475 10.305ZM9 6.3C8.25 6.3 7.6125 6.5625 7.0875 7.0875C6.5625 7.6125 6.3 8.25 6.3 9C6.3 9.75 6.5625 10.3875 7.0875 10.9125C7.6125 11.4375 8.25 11.7 9 11.7C9.75 11.7 10.3875 11.4375 10.9125 10.9125C11.4375 10.3875 11.7 9.75 11.7 9C11.7 8.25 11.4375 7.6125 10.9125 7.0875C10.3875 6.5625 9.75 6.3 9 6.3ZM6.2775 1.8C5.2425 2.22 4.3425 2.81625 3.5775 3.58875C2.8125 4.36125 2.22 5.2575 1.8 6.2775L5.175 7.6725C5.4 7.0425 5.73375 6.51375 6.17625 6.08625C6.61875 5.65875 7.125 5.355 7.695 5.175L6.2775 1.8ZM5.175 10.3275L1.8 11.7225C2.22 12.7425 2.81625 13.6388 3.58875 14.4113C4.36125 15.1838 5.2575 15.78 6.2775 16.2L7.65 12.825C7.08 12.63 6.585 12.3188 6.165 11.8913C5.745 11.4638 5.415 10.9425 5.175 10.3275Z" fill="#2D2F31" />
                        </svg>
                    </div>
                </div>
                <div className='nav-item'>
                    <div className='nav-link'>
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M5 21C4.45 21 3.97917 20.8042 3.5875 20.4125C3.19583 20.0208 3 19.55 3 19V5C3 4.45 3.19583 3.97917 3.5875 3.5875C3.97917 3.19583 4.45 3 5 3H19C19.55 3 20.0208 3.19583 20.4125 3.5875C20.8042 3.97917 21 4.45 21 5V19C21 19.55 20.8042 20.0208 20.4125 20.4125C20.0208 20.8042 19.55 21 19 21H5ZM5 19H19V16H16C15.5 16.6333 14.9042 17.125 14.2125 17.475C13.5208 17.825 12.7833 18 12 18C11.2167 18 10.4792 17.825 9.7875 17.475C9.09583 17.125 8.5 16.6333 8 16H5V19ZM12 16C12.6333 16 13.2083 15.8167 13.725 15.45C14.2417 15.0833 14.6 14.6 14.8 14H19V5H5V14H9.2C9.4 14.6 9.75833 15.0833 10.275 15.45C10.7917 15.8167 11.3667 16 12 16Z" fill="#2D2F31" />
                        </svg>
                    </div>
                </div>
                <div className='nav-item'>
                    <div className='nav-link'>
                        <Dropdown>
                            <Dropdown.Toggle variant='link' id="dropdown-basic">
                                <img className='i-user' src={require('./avatar00.png')} />
                            </Dropdown.Toggle>

                            <Dropdown.Menu>
                                <div className='user-profile'>
                                    <div className='profile'>
                                        <img src={require('./avatar_url.png')} />
                                        <div className='status active'></div>
                                    </div>
                                    <h3>
                                        Hello, {auth?.currentUser?.displayName}
                                    </h3>
                                    <h6>ADMIN</h6>
                                </div>
                                <div className='options'>
                                    <div className='status'>
                                        <div className='stat'>
                                            <div className='dot active'></div>
                                            <span>
                                                Online
                                            </span>
                                        </div>
                                        <div>
                                            <Form.Check
                                                type="switch"
                                                id="custom-switch"
                                            />
                                        </div>
                                    </div>
                                    <div className='option'>
                                        <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15" fill="none">
                                            <path d="M1.66667 12.375C2.41667 11.6389 3.28819 11.059 4.28125 10.6354C5.27431 10.2118 6.34722 10 7.5 10C8.65278 10 9.72569 10.2118 10.7188 10.6354C11.7118 11.059 12.5833 11.6389 13.3333 12.375V1.66667H1.66667V12.375ZM7.5 8.33333C8.30556 8.33333 8.99306 8.04861 9.5625 7.47917C10.1319 6.90972 10.4167 6.22222 10.4167 5.41667C10.4167 4.61111 10.1319 3.92361 9.5625 3.35417C8.99306 2.78472 8.30556 2.5 7.5 2.5C6.69444 2.5 6.00694 2.78472 5.4375 3.35417C4.86806 3.92361 4.58333 4.61111 4.58333 5.41667C4.58333 6.22222 4.86806 6.90972 5.4375 7.47917C6.00694 8.04861 6.69444 8.33333 7.5 8.33333ZM1.66667 15C1.20833 15 0.815972 14.8368 0.489583 14.5104C0.163194 14.184 0 13.7917 0 13.3333V1.66667C0 1.20833 0.163194 0.815972 0.489583 0.489583C0.815972 0.163194 1.20833 0 1.66667 0H13.3333C13.7917 0 14.184 0.163194 14.5104 0.489583C14.8368 0.815972 15 1.20833 15 1.66667V13.3333C15 13.7917 14.8368 14.184 14.5104 14.5104C14.184 14.8368 13.7917 15 13.3333 15H1.66667ZM3.33333 13.3333H11.6667V13.125C11.0833 12.6389 10.4375 12.2743 9.72917 12.0312C9.02083 11.7882 8.27778 11.6667 7.5 11.6667C6.72222 11.6667 5.97917 11.7882 5.27083 12.0312C4.5625 12.2743 3.91667 12.6389 3.33333 13.125V13.3333ZM7.5 6.66667C7.15278 6.66667 6.85764 6.54514 6.61458 6.30208C6.37153 6.05903 6.25 5.76389 6.25 5.41667C6.25 5.06944 6.37153 4.77431 6.61458 4.53125C6.85764 4.28819 7.15278 4.16667 7.5 4.16667C7.84722 4.16667 8.14236 4.28819 8.38542 4.53125C8.62847 4.77431 8.75 5.06944 8.75 5.41667C8.75 5.76389 8.62847 6.05903 8.38542 6.30208C8.14236 6.54514 7.84722 6.66667 7.5 6.66667Z" fill="#2D2F31" />
                                        </svg>
                                        <span>
                                            Profile
                                        </span>
                                    </div>
                                    <div className='option'>
                                        <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15" fill="none">
                                            <path d="M3.33333 11.6667H9.16667V10H3.33333V11.6667ZM3.33333 8.33333H11.6667V6.66667H3.33333V8.33333ZM3.33333 5H11.6667V3.33333H3.33333V5ZM1.66667 15C1.20833 15 0.815972 14.8368 0.489583 14.5104C0.163194 14.184 0 13.7917 0 13.3333V1.66667C0 1.20833 0.163194 0.815972 0.489583 0.489583C0.815972 0.163194 1.20833 0 1.66667 0H13.3333C13.7917 0 14.184 0.163194 14.5104 0.489583C14.8368 0.815972 15 1.20833 15 1.66667V13.3333C15 13.7917 14.8368 14.184 14.5104 14.5104C14.184 14.8368 13.7917 15 13.3333 15H1.66667ZM1.66667 13.3333H13.3333V1.66667H1.66667V13.3333Z" fill="#2D2F31" />
                                        </svg>
                                        <span>
                                            Settings
                                        </span>
                                    </div>
                                    <div onClick={logout} className='option'>
                                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">
                                            <path d="M1.75 13.5C1.3375 13.5 0.984375 13.3531 0.690625 13.0594C0.396875 12.7656 0.25 12.4125 0.25 12V1.5C0.25 1.0875 0.396875 0.734375 0.690625 0.440625C0.984375 0.146875 1.3375 0 1.75 0H7V1.5H1.75V12H7V13.5H1.75ZM10 10.5L8.96875 9.4125L10.8813 7.5H4.75V6H10.8813L8.96875 4.0875L10 3L13.75 6.75L10 10.5Z" fill="#2D2F31" />
                                        </svg>
                                        <span>
                                            Logout
                                        </span>
                                    </div>
                                </div>
                            </Dropdown.Menu>
                        </Dropdown>
                    </div>
                </div>
            </div>
            <Modal className='org-model' show={showorg} size="sm" onHide={handleCloseorg} centered>
                <Modal.Body>
                    <div className='m-header'>
                        <h3>
                            Switch to Organization
                        </h3>
                        <i className="fa-solid fa-xmark" onClick={handleCloseorg}></i>
                    </div>
                    <div className='m-body'>
                        <div className='org-search'>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <path d="M15.0222 16L9.17778 10.1556C8.73333 10.5407 8.21482 10.8407 7.62222 11.0556C7.02963 11.2704 6.4 11.3778 5.73333 11.3778C4.13333 11.3778 2.77778 10.8222 1.66667 9.71111C0.555556 8.6 0 7.25926 0 5.68889C0 4.11852 0.555556 2.77778 1.66667 1.66667C2.77778 0.555556 4.12593 0 5.71111 0C7.28148 0 8.61852 0.555556 9.72222 1.66667C10.8259 2.77778 11.3778 4.11852 11.3778 5.68889C11.3778 6.32593 11.2741 6.94074 11.0667 7.53333C10.8593 8.12593 10.5481 8.68148 10.1333 9.2L16 15.0222L15.0222 16ZM5.71111 10.0444C6.91111 10.0444 7.93333 9.61852 8.77778 8.76667C9.62222 7.91481 10.0444 6.88889 10.0444 5.68889C10.0444 4.48889 9.62222 3.46296 8.77778 2.61111C7.93333 1.75926 6.91111 1.33333 5.71111 1.33333C4.4963 1.33333 3.46296 1.75926 2.61111 2.61111C1.75926 3.46296 1.33333 4.48889 1.33333 5.68889C1.33333 6.88889 1.75926 7.91481 2.61111 8.76667C3.46296 9.61852 4.4963 10.0444 5.71111 10.0444Z" fill="#8C96A0" />
                            </svg>
                            <Form.Control value={org} onChange={(e) => {
                                setOrg(e.target.value)
                                if (onChangeOrgName && typeof onChangeOrgName === "function") {
                                    onChangeOrgName(e.target.value)
                                }
                            }} type="text" placeholder="Find Organization" />
                        </div>
                        {orgs && Array.isArray(orgs) && orgs.map((org, index) => {
                            return (
                                <div onClick={() => onChangeOrg && typeof onChangeOrg === "function" && onChangeOrg(org)} key={index} className='org-card'>
                                    <div className='name'>
                                        <img src={org?.branding?.logo_url ?? require('./logo.png')} />
                                        <div>
                                            <h6>
                                                {org?.name}
                                            </h6>
                                            <p>
                                                {org?.displayName}
                                            </p>
                                        </div>
                                    </div>
                                    <div className='date'>
                                        {org?.createdAt}
                                    </div>
                                </div>
                            )
                        })
                        }
                    </div>
                </Modal.Body>
            </Modal>
            {/* sidebar */}
            <div className={`cdb-side-bar`}>
                <CDBSidebar toggled={sidebarState} className="side-bar-inner" textColor={""} backgroundColor={"#fff"} breakpoint={0} minWidth={""} maxWidth={""}>
                    <CDBSidebarContent className="sidebar-content">
                        <CDBSidebarMenu>
                            <NavLink to={'/'} className="i-heading-ilm">
                                <CDBSidebarMenuItem
                                    className="NavLink-text-ilm"
                                    icon="shield-alt"
                                >
                                    {sidebarUris &&
                                        Array.isArray(sidebarUris) ?
                                        sidebarUris.find((url) => url.path === pathname || pathname.includes(url.path))?.name
                                        : pathname.split('/')[1]
                                    }
                                </CDBSidebarMenuItem>
                                <hr />
                            </NavLink>
                            {sidebarUris && Array.isArray(sidebarUris) && sidebarUris.map((url, index) => {
                                return (
                                    <NavLink key={index} to={url.path}>
                                        <CDBSidebarMenuItem
                                            className="NavLink-text"
                                            icon={url.icon}
                                        >
                                            {url.name}
                                        </CDBSidebarMenuItem>
                                    </NavLink>
                                );
                            })}
                        </CDBSidebarMenu>
                    </CDBSidebarContent>
                    <CDBSidebarHeader className='side-nav-open' prefix={
                        <div className='open-nav'>
                            <svg xmlns="http://www.w3.org/2000/svg" width="9" height="8" viewBox="0 0 9 8" fill="none">
                                <path d="M8.29089 4.22241L4.57613 0.489075L3.70317 1.36641L6.53877 4.22241L3.70317 7.07841L4.57613 7.95574L8.29089 4.22241Z" fill="white" />
                                <rect x="0.765625" y="7.95575" width="7.46667" height="1.23488" transform="rotate(-90 0.765625 7.95575)" fill="white" />
                            </svg>
                        </div>
                    }>
                    </CDBSidebarHeader>
                </CDBSidebar>
            </div>
        </div>
    )
};